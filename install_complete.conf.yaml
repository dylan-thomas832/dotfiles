# Shell commands

- defaults:
    link:
        create: true
        relink: true
        force: true

    shell:
        stdout: false
        stderr: false

- clean: ['~']

- link:
    ~/.dotfiles: ""

- shell:
    - [rm -f ./logs/*.out, Removing old logs.]
    - [git pull origin master &> ./logs/git.out, Updating git repo.]
    - [git submodule update --init --recursive &>> ./logs/git.out, Installing submodules.]
    - [sudo ./bin/aptget_upgrade.sh &> ./logs/aptget.out, Updating and upgrading packages.]
    - [sudo ./bin/aptget_complete.sh &>> ./logs/aptget.out, Installing packages with apt-get.]
    - [python -m pip install --user -r ./python/req_27.txt --upgrade &> ./logs/pip.out, Installing Python 2 packages]
    - [python3 -m pip install --user -r ./python/req_35.txt --upgrade &>> ./logs/pip.out, Installing Python 3 packages]
    - [mkdir -p ~/docs ~/libraries ~/git_ext ~/projects ~/tars ~/temps &> ./logs/shell.out, Creating home directories.]
    - [mkdir -p ~/.dotfiles/vim/files/info ~/.dotfiles/vim/files/undo ~/.dotfiles/vim/files/swap ~/.dotfiles/vim/files/backup ~/.dotfiles/vim/colors &>> ./logs/shell.out, Making required directories in vim/ before linking and copying.]
    - [./bin/check_wsl.sh &> ./logs/wsl.out, Installing fonts & checking Unix type.]
    - [./bin/setup_vim.sh &> ./logs/vim.out, Setting up VIM.]
    - [bash ./vscode/install_vscode_extensions.sh &> ./logs/vscode.out, Install VS Code Extensions.]

- link:
    ~/.gitconfig: git/gitconfig
    ~/.gitignore_global: git/gitignore_global
    ~/.vscode: vscode/
    ~/.config/Code/User/settings.json: vscode/settings.json
    ~/.vim: vim/
    ~/.vim/autoload: vim/pathogen/autoload/ 
    ~/.vimrc: vim/vimrc
    ~/.oh-my-zsh: oh-my-zsh
    ~/.bashrc: shell/bashrc
    ~/.zsh: zsh/
    ~/.zshrc: zsh/zshrc

- shell:
    - [source ~/.zshrc, Sourcing zshrc file.]
